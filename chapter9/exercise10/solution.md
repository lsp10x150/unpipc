Лучше использовать SEEK\_SET. Проблема с SEEK\_CUR заключается в том, что этот вариант зависит от текущего положения в файле, устанавливаемого lseek. Однако если мы вызываем lseek, а потом fcntl, мы делаем одну операцию в два вызова и существует вероятность, что другой процесс в промежутке между вызовами изменит текущий здвиг вызовом lseek. Вспомните, что все потоки используют общие дескрипторы. Аналогично, если указать SEEK\_END, другой процесс может дописать данные к файлу, прежде чем мы получим блокировку, и тогда она уже не будет распространятся на весь файл.
